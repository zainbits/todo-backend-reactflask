{"version":3,"sources":["Components/Popup.js","Components/RightTitleBar.js","Components/MagicSlate.js","api.js","Pages/Login.js","Pages/AllUsers.js","Components/Card.js","Pages/Dashboard.js","App.js","index.js"],"names":["Popup","trigger","setPop","children","history","useHistory","className","onClick","localStorage","removeItem","push","TitleBar","title","useState","pop","console","log","class","MagicSlate","axios","create","baseURL","process","LoginPage","username","setUsername","password","setPassword","loginError","setLoginError","handleLogin","event","a","preventDefault","opts","headers","encode","API","get","response","data","setItem","token","status","onSubmit","htmlFor","type","id","placeholder","value","onChange","e","target","style","color","AllUsers","setData","useEffect","fetch","method","then","res","json","catch","error","length","map","item","name","Card","val","useContext","SimpleContext","Dashboard","getItem","ACTION","useReducer","todos","action","todo","payload","put","complete","Authorization","filter","dispatch","err","alert","text","React","createContext","App","Provider","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a9517b7c.chunk.js","sourcesContent":["import \"../stylesheets/Popup.css\";\nimport { useHistory } from \"react-router-dom\"\n\nexport const Popup = ({ trigger, setPop, children }) => {\n    const history = useHistory()\n\n    const Logout = () => {\n        localStorage.removeItem(\"token\")\n        history.push(\"/\")\n    }\n\n  return trigger ? (\n    <div className=\"block__popup\">\n      {children}\n      <div>\n          <button className=\"btn btn-danger\" onClick={Logout}>Logout</button>\n          <button className=\"btn btn-primary\"onClick={() => setPop(false)}>Close</button>\n      </div>\n    </div>\n  ) : (\n    \"\"\n  );\n};\n","import \"../stylesheets/RightSide/TitleBar.css\";\nimport { Popup } from \"./Popup\";\nimport { useState } from \"react\";\n\nexport const TitleBar = ({ title }) => {\n  const [pop, setPop] = useState(false);\n\n  const popTrigger = () => {\n    setPop(true);\n    console.log(\"clicked\");\n  };\n\n  return (\n    <div className=\"block__title\">\n      <div>{title}</div>\n      <div className=\"block__title-buttons\">\n        <button onClick={popTrigger} class=\"button__logout\">\n          Logout\n        </button>\n      </div>\n      <Popup trigger={pop} setPop={setPop}>\n          <p>Do you really want to logout?</p>\n      </Popup>\n    </div>\n  );\n};\n","import '../stylesheets/RightSide/MagicSlate.css'\n\n\nexport const MagicSlate = ({children, className}) => {\n    return (\n        <>\n            <div className={className}>\n                {children}\n            </div>\n        </>\n    )\n};\n","import axios from 'axios';\n\nexport default axios.create({\n  baseURL: process.env.REACT_APP_API_URL\n});","import {useState} from 'react'\nimport {encode} from \"base-64\"\nimport {TitleBar} from '../Components/RightTitleBar'\nimport {MagicSlate} from '../Components/MagicSlate'\nimport { useHistory } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport '../stylesheets/RightSide/TitleBar.css'\nimport '../stylesheets/RightSide/RightLogin.css'\nimport API from '../api'\n\n\nexport const LoginPage = () => {\n\n    let history = useHistory()\n\n    const [username, setUsername] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    const [loginError, setLoginError] = useState(null)\n    \n    const handleLogin = async (event)=> {\n      event.preventDefault()\n      console.log(username,password)\n\n      const opts = {\n        headers: {\n          \"Authorization\": \"Basic \" + encode(`${username}:${password}`)\n        }\n      }\n\n      try {\n        let response = await API.get(\"login\", opts)\n        console.log(response.data)\n        localStorage.setItem(\"token\", response.data.token)\n        history.push('/dashboard')\n      }\n      catch (err) {\n        if (err.response.status === 401){\n            setLoginError('Invalid Username or Password')\n        }\n      }\n    }\n\n    return (\n        \n        <>\n          <TitleBar title=\"Login\" />\n          <MagicSlate className=\"block__slate\">\n            <div className=\"card p-5 in2\">\n              <div className=\"card-body\">\n                <form onSubmit={handleLogin}>\n                  <div className=\"form-group\">\n                    <h2>Login</h2>\n                    <label htmlFor=\"username\">Email address</label>\n                    <input\n                      type=\"text\"\n                      className=\"form-control\"\n                      id=\"username\"\n                      placeholder=\"Enter username\"\n                      value={username}\n                      onChange={e => {setUsername(e.target.value)}}\n                    />\n                  </div>\n                  <div className=\"form-group\">\n                    <label htmlFor=\"password\">Password</label>\n                    <input\n                      type=\"password\"\n                      className=\"form-control\"\n                      id=\"password\"\n                      placeholder=\"Password\"\n                      value={password}\n                      onChange={e => setPassword(e.target.value)}\n                    />\n                  </div>\n                  <div className=\"form-group form-check\">\n                    <input\n                      type=\"checkbox\"\n                      className=\"form-check-input\"\n                      id=\"remember\"\n                    />\n                    <label className=\"form-check-label\" htmlFor=\"remember\">\n                      Remember me\n                    </label>\n                  </div>\n                  <div style={{color: '#DF362D'}}>{loginError}</div>\n                  <button type=\"submit\" className=\"btn btn-primary\">\n                    Login\n                  </button>\n                </form>\n              </div>\n            </div>\n          </MagicSlate>\n        </>\n    )\n}","import \"../App.css\";\nimport { TitleBar } from \"../Components/RightTitleBar\"\nimport {MagicSlate} from \"../Components/MagicSlate\"\nimport {useEffect, useState} from 'react'\n\nconst AllUsers = ()=> {\n    // const token = sessionStorage.getItem('token')\n    const [data, setData] = useState([])\n\n    useEffect(()=>{\n        const opts = {\n            method: \"GET\",\n            headers: {\n                // \"Authorization\": token\n            }\n        }\n        fetch('/user', opts)\n        .then(res => res.json())\n        .then(data=>{\n            setData(data)\n            console.log(data)\n        })\n        .catch(console.error)\n    }, [])\n    \n\n    \n    return (\n        <>\n            <TitleBar title=\"All Users\" />\n            <MagicSlate className=\"block__slate\">\n            <div className=\"darkback\">\n                <h1>Hi There</h1>\n                {data.length !== 0 && data.map(item=>{\n                    return (\n                        <div key={item.id}>\n                            <h1>{item.id}</h1>\n                            <h1>{item.name}</h1>\n                        </div>\n                    )\n                })}\n            </div>\n            </MagicSlate>\n        </>\n    )\n}\n\nexport {AllUsers}","import \"../stylesheets/Card.css\";\nimport {SimpleContext} from \"../App\";\nimport { useContext } from \"react\";\n\nexport const Card = ({ children }) => {\n  const val = useContext(SimpleContext);\n\n  console.log(val);\n  return (\n    <div className=\"block__card\">\n      {children}\n      <p>{val}</p>\n    </div>\n  );\n};\n","import { useEffect, useReducer } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { TitleBar } from \"../Components/RightTitleBar\";\nimport { MagicSlate } from \"../Components/MagicSlate\";\nimport { Card } from \"../Components/Card\";\n\nimport \"../App.css\";\nimport API from \"../api\";\n\nexport const Dashboard = () => {\n  const token = localStorage.getItem(\"token\");\n\n  const ACTION = {\n    TOGGLE: \"toggle\",\n    FETCH_TODO: \"fetch_todos\",\n    DELETE_TODO: \"delete_todo\",\n  };\n\n  const reducer = (todos, action) => {\n    switch (action.type) {\n      case ACTION.TOGGLE:\n        return todos.map((todo) => {\n          if (todo.id === action.payload.id) {\n            API.put(\n              `/todo/${todo.id}`,\n              {\n                complete: !todo.complete,\n              },\n              {\n                headers: {\n                  Authorization: \"Bearer \" + token,\n                },\n              }\n            )\n              .then((response) => {\n                todo.complete = !todo.complete;\n              })\n              .catch((error) => {\n                console.log(error.response.status);\n              });\n            return { ...todo, complete: !todo.complete };\n          } else {\n            return {...todo};\n          }\n        });\n\n      case ACTION.DELETE_TODO:\n        return todos.filter((todo) => todo.id !== action.payload.id);\n\n      case ACTION.FETCH_TODO:\n        return action.payload.data;\n\n      default:\n        return todos;\n    }\n  };\n\n  const history = useHistory();\n  const [todos, dispatch] = useReducer(reducer, []);\n\n  useEffect(() => {\n    const opts = {\n      headers: {\n        Authorization: \"Bearer \" + token,\n      },\n    };\n\n    API.get(\"/todo\", opts)\n      .then((response) => {\n        dispatch({ type: ACTION.FETCH_TODO, payload: { data: response.data } });\n      })\n      .catch((err) => {\n        if (err.response.status === 422) {\n          history.push(\"/\");\n        } else if (err.response.status === 401) {\n          alert(\"you have been logged out\");\n          history.push(\"/\");\n        }\n      });\n  }, [history, token, ACTION.FETCH_TODO]);\n\n  const addTodo = () => {\n    alert(\"pressed addTodo\");\n  };\n\n  return (\n    <>\n      <TitleBar title=\"Dashboard\" />\n      <MagicSlate className=\"block__slate--dashboard\">\n          {todos.length !== 0 &&\n            todos.map((item) => {\n              return (\n                <Card key={item.id}>\n                  <h3>{item.text}</h3>\n                  <hr className=\"elem__hr\" />\n                  {item.complete ? (\n                    <span>Completed</span>\n                  ) : (\n                    <span>Incomplete</span>\n                  )}\n                  <hr className=\"elem__hr\" />\n                  <div className=\"block__actions\">\n                    <button\n                      onClick={() => {\n                        dispatch({\n                          type: ACTION.DELETE_TODO,\n                          payload: { id: item.id },\n                        });\n                      }}\n                      className=\"delete\"\n                    >\n                      Delete\n                    </button>\n                    <button\n                      onClick={() => {\n                        dispatch({\n                          type: ACTION.TOGGLE,\n                          payload: { id: item.id },\n                        });\n                      }}\n                      className=\"toggle\"\n                    >\n                      Toggle\n                    </button>\n                  </div>\n                </Card>\n              );\n            })}\n        <button onClick={addTodo} className=\"block__add--bottomRight\">\n          +\n        </button>\n      </MagicSlate>\n    </>\n  );\n};\n","import \"./App.css\";\nimport { LoginPage } from \"./Pages/Login\";\nimport { AllUsers } from \"./Pages/AllUsers\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { Dashboard } from \"./Pages/Dashboard\";\nimport React from \"react\";\n\nexport const SimpleContext = React.createContext(\"I am in App component\");\nconsole.log(SimpleContext);\n\nfunction App() {\n  let contextValue = \"I am in App component\";\n\n  return (\n    <>\n      <div className=\"LeftPane\">\n        <div className=\"login-lp\">\n          <p>TODO - Web App{`\\n`}Made in react</p>\n        </div>\n      </div>\n      <div className=\"block--right\">\n        <SimpleContext.Provider value={contextValue}>\n          <Switch>\n            <Route exact path=\"/\">\n              <LoginPage />\n            </Route>\n            <Route path=\"/getallusers\">\n              <AllUsers />\n            </Route>\n            <Route path=\"/dashboard\">\n              <Dashboard />\n            </Route>\n          </Switch>\n        </SimpleContext.Provider>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}